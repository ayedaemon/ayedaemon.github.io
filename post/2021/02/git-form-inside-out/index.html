<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git Form Inside Out | Connected</title>
<meta name=keywords content="git"><meta name=description content="
Inside out approach to learn git
"><meta name=author content="ayedaemon"><link rel=canonical href=https://ayedaemon.github.io/post/2021/02/git-form-inside-out/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://ayedaemon.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ayedaemon.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ayedaemon.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ayedaemon.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ayedaemon.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Git Form Inside Out"><meta property="og:description" content="
Inside out approach to learn git
"><meta property="og:type" content="article"><meta property="og:url" content="https://ayedaemon.github.io/post/2021/02/git-form-inside-out/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-02-25T23:07:04+05:30"><meta property="article:modified_time" content="2023-11-07T00:11:41+05:30"><meta property="og:site_name" content="Connected"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git Form Inside Out"><meta name=twitter:description content="
Inside out approach to learn git
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ayedaemon.github.io/post/"},{"@type":"ListItem","position":2,"name":"Git Form Inside Out","item":"https://ayedaemon.github.io/post/2021/02/git-form-inside-out/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git Form Inside Out","name":"Git Form Inside Out","description":" Inside out approach to learn git\n","keywords":["git"],"articleBody":" Inside out approach to learn git\nGit is one of the most common version control system used today. And the fact that it was developed by the kernel developers justifies that it is very complex and have a very bad interface. And most of the commands don’t make much of a sense at first.\nBut behind the scenes git uses a bunch of tricks in different combinations to make everything work. And once you understand them all the git commands start making much more sense than ever. For this we need to understand the git internals. (There is a lot to the git internals but we are just going to cover a few of them)\nUnderstanding git internals To understand this, we first need to create a git repository and start working on it. For that, I have created a simple folder play-git here to start playing around. This is usually referred as working area or working repository or working directory.\nNext step after this will be creating/initializing a git repository. This can be done using git init command in the working directory.\n[ OUTPUT ]:\nInitialized empty Git repository in /home/ayedaemon/extra/playground/play-git/.git/ This will create a .git folder in my working repo as indicated by the output of git init command (above).\nThis .git folder is generally called git repository. This is the place where all of the git magic resides. All your configuration files, repo description, commit histories, information about branches, and other git related things are present here in this directory.\nYou can think of git as a filesystem. You add, delete, modify, tag, etc..to this filesystem and there are mainly 4 types of objects involved in the whole process - blob, tree, commit, annotated tags. (Read more about git objects)\nThis gives us idea that we need to monitor .git repository for changes after we run each command and understand the relation between those.\nAfter git init this is the state of my repository. This is the initial state. So git init basically creates an initial state of this repository in the working area.\nAs it can be seen there are multiple hooks setting.. But they are just samples as of now. We can create our own hooks as per the need. These are simple scripts used to perform some automated tasks on some specific actions. (Read more about hooks)\nMost important thing is the HEAD. This is a file which is like a pointer to the commit we are pointing. Mostly all the changes we make are made using HEAD somehow.\nHEAD points to master for now. We’ll look how this file changes it’s data with different commands we enter.\nLet’s add a file and look for changes in the .git folder for each step.\nLooks like there are no changes for simply creating a file and adding some data to it. But things change as soon as I git add . it. So git starts monitoring the changes as soon as I add the files using git add command.\nOn investigating it further, we can understand that git add has created a blob object under ./.git/objects/ folder. And the file is zlib compressed data… so we can uncompress it and look at the content of that file easily using zlib-flate -uncompress command.\nOn adding a new content to the same file newfile.txt, git created a new blob object. Apparently, git does not store the diffs of the file, instead they store the complete object. So if you have 3 files with a single line of change in each of them, then git is going to store 3 different blobs, instead of storing a diff of the files.\nYou can also notice that here as the previous data is not yet gone from the git repository. We have both of our changes - old and new.\nLet’s switch back again to the first data we have entered in the file.\nThis time they have not created any new object.. This means they create a new blob object whenever there is a new data.. and use the previous blob object whenever possible.\nNow let’s see what changes do we get on commiting these blob objects.\nOn commiting there are 2 more objects and some logs. Let’s inspect each one to see if we can get anything out of it.\nOne of the object is tree object and another one is the commit object. Commit object has all the information about the blob we added and the commit message along with few other details.\nThe other 2 logs which were generated are as above. By looking at these we can get that they both point to the commit object for now.\nAnd if we look at the .git/HEAD file, it still points to this reference - ref: refs/heads/master. Further looking in .git/refs/heads/master file, we get that this points to the commit object we created.\nIf we are to visualize the current situation it’ll be something like this.\nHEAD +---------+ | | | | | | v master +----------+ | | | v +---------+--------+ | | | ed6108f | | | +------------------+ Let’s add more commits to it now.\nWe now have 2 new objects for 2 new files.\nBut if we add another file with the same content in it (In other words, if use the repeatative data) then, git will not create new blob objects for it. It’ll use the previous blob object to track it.\nThis means that git only tracks the data in the file along with the file name… instead of directly tracking the files.\nLet’s check the logs now.\nAnd we can get the same data from the .git/logs/HEAD file.\nAgain checking on the .git/HEAD\nVisual diagram for the above will look something like this.\nHEAD +---------+ | | | | | | v master +----------+ | | | v +------------------+ +--------+-------+ | | | | | 20998091 +\u003c-------------+ ed6108f | | | | | +------------------+ +----------------+ You can also check this from the screenshot below.\nLet’s go branching now. You can create a new branch using git checkout -b feature. This command will create a branch for you. We can also observe that there are 2 new files.. 1 in the logs and another one in the refs/heads.\nLet’s see what’s there in these files.\nWe can observe 2 interesting things here:\nfeature and master branch point to the same commit at the moment. .git/HEAD (HEAD) points to the feature branch. This means whatever changes we will make it’ll be made on the feature branch. master +----------+ | | | v +------------------+ +--------+-------+ | | | | | 20998091 +\u003c-------------+ ed6108f | | | | | +------------------+ +----------------+ HEAD ^ | | | | | | | | +---------\u003e feature +-----------+ Let’s add new commits and see if we can see what we just concluded.\nmaster +--------+ | | | v +----------------+ +-------+----------+ +----------------+ | | | | | | | 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | | | | | | | +----------------+ +------------------+ +---------+------+ HEAD ^ | | | | | | | | +---------\u003e feature +-----------+ At this point, the master is direct parent to the feature branch. So if we just merge feature to master then it’ll simply move the label one commit ahead. There is no need for a new commit to add both the changes.\nFor this, we need to change back to the master branch. Behind the scenes, this will simply change the .git/HEAD reference to master from feature.\nAnd visually, it’ll look something like this.\nHEAD +---------+ | | | | | | v master +--------+ | | | v +----------------+ +-------+----------+ +----------------+ | | | | | | | 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | | | | | | | +----------------+ +------------------+ +---------+------+ ^ | | | | feature +-----------+ We can see that there are some changes in the feature branch that master branch does not have yet. We can merge feature branch to master branch to get these features in the master.\nTo merge, we need to switch to master branch, and then simply merge it.\nThis type of merge is called fast-forward merge (as given in the output). This is simply moving forward and shifting the label (master) to point to appropriate commit.\nHEAD +---------+ | | | | | | v master +--------+ | | | v +----------------+ +-------+----------+ +----------------+ | | | | | | | 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | | | | | | | +----------------+ +------------------+ +---------+------+ ^ | | | | feature +-----------+ Let’s make more changes to feature and master both. And then merge them.\nLooking the logs in feature branch, we get -\nAnd for master branch -\nWe can clearly see that both have all the commits same except the latest one. And since both the branches had their different log files they have separate logs. But we can use a pretty handy command to check both the logs combined and a graphical representation (sort of) for both.\ngit log --graph --decorate --all\nSince I am in my main branch right now, so the HEAD points to master.\nThis situation will look something like this diagram below.\nHEAD +---------+ | | v master +--------+ | | v +-------+-------+ +----------------+ +------------------+ +----------------+ | | | | | | | | | 633145f +\u003c--+--+ 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | | | | | | | | | | +---------------+ | +----------------+ +------------------+ +----------------+ | | | | +----------------+ | | | | | 68d38e06 +\u003c--+ | | +-------+--------+ ^ | | feature +-----------+ let’s see what happens when we merge these 2 branches now.\nThis time it creates a new commit to merge both the branches and moves label master ahead to that commit, along with the HEAD.\nHEAD +---------+ | | v master +--+ | | | v +-------+---------+ +---------------+ +----------------+ +------------------+ +----------------+ | | | | | | | | | | | 76b2abc +\u003c--------+ 633145f +\u003c--+--+ 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | | | | | | | | | | | | +-------+---------+ +---------------+ | +----------------+ +------------------+ +----------------+ ^ | | | | | | | | +----------------+ | | | | | +------------------+ 68d38e06 +\u003c--+ | | +--------+-------+ ^ | | feature +-----------+ In this merge, master calculated that it is not in the same hierarchy as feature. So it created a new object, merged the data from the feature and commited it as any other object.\nAfter merging, master and head labels will move forward to the latest commit. But the feature will be the same as before… as we have not changed anything in that yet.\nWhat if that this new commit 76b2abc was a mistake and we want our master and HEAD labels back to commit 633145f?\nWe can simply reset the commits by git reset 633145 command. This will move my labels back to this commit mentioned.\nInterestingly enough, this will not remove the commit 76b2abc from the .git/objects/ directory. It’ll simply write a new log in the logs file and git log --graph --decorate --all command will give you a good output back.\nWhat if we want to test the new feature with all the current updates of master?\nFor this, we need to go to feature branch and merge master to it using git merge master\n(I had to remove newfile7.txt from master branch in order to switch the branch as there were few changes untracked. There are other ways around this as well, but to keep things simple I just deleted it)\nThis is again recursive strategy merge.\nmaster +--+ | | | v +--------+------+ +----------------+ +------------------+ +----------------+ | | | | | | | | +-------------------+ 633145f +\u003c--+--+ 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | | | | | | | | | | | | +---------------+ | +----------------+ +------------------+ +----------------+ | | | | | | | | +--------v--------+ +----------------+ | | | | | | | 88dd609c +\u003c--------+ 68d38e06 +\u003c--+ | | | | +--------+--------+ +----------------+ ^ | | +-----\u003e feature +------+ | | HEAD+ This way there was no change made in the master and a new feature was added and can be tested properly. You can call this feature integration test. If the feature passes the tests and we decide to update master with this feature, we can simply switch to master branch and merge feature to it.\nAfter checking out to master using git checkout master command, HEAD points to master like in the screenshot below.\nOn merging, we get a fast-forward merge since the master is direct parent of the commit which is to be merged and there was no need of a new commit to be created.\nAfter merge, master, HEAD, and feature point to the same commit.\n+---------------+ +----------------+ +------------------+ +----------------+ | | | | | | | | +------------+ 633145f +\u003c--+--+ 748ffe6 +\u003c----------+ 20998091 +\u003c-------------+ ed6108f | +-----\u003e master +--+ | | | | | | | | | | | | | +---------------+ | +----------------+ +------------------+ +----------------+ | | | | HEAD+ | | | v | | +--+------------v-+ | | | +----------------+ | | | | | | | 88dd609c +\u003c--------+ 68d38e06 +\u003c--+ | | | | +--------+--------+ +----------------+ ^ | | feature +------+ Collaborating with git Usually we don’t use git standalone in our machine. What I mean is, we do use git locally most of the time but at some point we need to share our commits to someone else via network.\nTo cover up the whole picture in a line –\u003e\nTo **get commits** from someone else we need to do `git pull`... and to **send our commits** out on the internet we need to `git push`. I am going the way we usually go and do things - “start with cloning a repo”. After cloning a repo I have got this.\nLet’s inspect it.\nThis time there are no obects like the last time. But we have new kinds of files - pack and idx. Git creates pack file(s) by reading a list of git objects and then convert this pack file to idx (index) file. This can be used by git to know the information about the git objects used to create pack file. But this is not important at the point.\nThe point I wanted to get started with is remotes. There is a new reference in .git/refs/ directory that points to something called remotes/origin/HEAD.\nSo what the heck is origin anyway? Why should I care?\nIf you go out and check the .git/config file…you will know what origin means.\nHere origin is just a name that points to the github repo from which I cloned my current repository. So yeah, you should care about it if you have any intensions to push/pull to this remote repository anytime in future.\nAny branch with syntax like refs/remotes/*/* is called remote tracking branch. As the name suggests, it helps in tracking the remote status. It always show the remote status according to the last time both were synced together..and then they stay where ever they are until they are synced again.\nSo from all this, we can see that there is no exact need for origin or simply remote to be on the internet or in the network all the time. They both just need to be in contact whenever these needs to be synced. After that’s the whole point of being a distributed system.\nWhat we need is a remote repository..that can give us the pack files…and other objects… and then a working directory that we can use to add our changes and maybe another working directory that someone else is using to make his changes.\nWorkflow I am going to use now is as follows:-\nstart project + | v add new file +------------+ +-----------+ | | v v make a feature fix some old bugs + + | | | | | | | | v | | integrate and test new feature \u003c------+ + | | | | | | +---------\u003e (Push now) After integrating master to our feature we have:-\na feature branch with new feature and base from master. and master which is not changed. So if we want we can always use the previous stable version master or the bleeding edge feature.\nNow time to push it… But instead of actually pushing it, I’ll make a local bare clone that is exactly same as the repo handled by github or similar after you make a push.\nTo make a bare clone of the repo you can use --bare option and rest is same.\nCommand:- git clone --bare mywork remote_repo\nNow I have 2 repos… And the remote_repo has the content of .git folder… It does not have any tracking branches this time. Well, we don’t need tracking branches in this repo. Do we?\nAlso I can see that all the commits I made are present there in the remote_repo.\nLet’s say now someone clones this repo…\nHe also gets all the commits from the remote repo\nWith my remote_repo as the origin.\nBecause origin can be any bare repository.\nAfter someone has added their own branch and commited that change to his repo. Now he is ready to push/share the changes to/with origin.\nHe can share the data simply using the push command.\nNow our origin has got that new branch. So I had made changes to master branch it would have reflected in the master branch of the origin.\nAfter running below commands, someone can switch to his master branch and merge his user_feature branch.\ngit checkout master git merge user_feature master has now got all the new commits. Time to push/share master to our origin.\nAfter pushing changes to origin all the commits made to master are shared with origin/master and now both of them point to a single commit.\nI can also pull the changes from remote_repo to mywork… the only thing I have to do is set a remote that points to the repo I want to pull data from.\nOr for now I can simply specify from where to pull and merge where.\ngit pull ./../remote_repo/ master This will give me the latest commits made by someone and pushed to remote.\nConclusion This is how a typical git flow works. There are obviously other git flows better and complex than this but knowing this flow gives you a basic idea of how to make your way around git and use it effectively to manage your project.\nWhere to go from here?? You should start playing on your own exploring more commands and looking up their help pages for descriptions and other information. I’ll recommend to read the Pro Git Book to understand other concepts as well. It is available for free.\n","wordCount":"3140","inLanguage":"en","datePublished":"2021-02-25T23:07:04+05:30","dateModified":"2023-11-07T00:11:41+05:30","author":[{"@type":"Person","name":"ayedaemon"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://ayedaemon.github.io/post/2021/02/git-form-inside-out/"},"publisher":{"@type":"Organization","name":"Connected","logo":{"@type":"ImageObject","url":"https://ayedaemon.github.io/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://ayedaemon.github.io/ accesskey=h title="Connected (Alt + H)">Connected</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://ayedaemon.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://ayedaemon.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ayedaemon.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ayedaemon.github.io/series/ title=Series><span>Series</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ayedaemon.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://ayedaemon.github.io/post/>Posts</a></div><h1 class=post-title>Git Form Inside Out</h1><div class=post-meta><span title='2021-02-25 23:07:04 +0530 +0530'>February 25, 2021</span>&nbsp;·&nbsp;15 min&nbsp;·&nbsp;3140 words&nbsp;·&nbsp;ayedaemon&nbsp;|&nbsp;<a href=https://github.com/ayedaemon/ayedaemon.github.io/tree/main/content/post/2021/02/git-form-inside-out.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><ul><li><a href=#understanding-git-internals>Understanding git internals</a></li><li><a href=#collaborating-with-git>Collaborating with git</a></li><li><a href=#conclusion>Conclusion</a></li></ul></li></ul></nav></div></details></div><div class=post-content><blockquote><p>Inside out approach to learn git</p></blockquote><p>Git is one of the most common version control system used today. And the fact that it was developed by the kernel developers justifies that it is very complex and have a very bad interface. And most of the commands don&rsquo;t make much of a sense at first.</p><p><img loading=lazy src=https://imgs.xkcd.com/comics/git.png alt></p><p>But behind the scenes git uses a bunch of tricks in different combinations to make everything work. And once you understand them all the git commands start making much more sense than ever. For this we need to understand the git internals. <em>(There is a lot to the git internals but we are just going to cover a few of them)</em></p><h3 id=understanding-git-internals>Understanding git internals<a hidden class=anchor aria-hidden=true href=#understanding-git-internals>#</a></h3><p>To understand this, we first need to create a git repository and start working on it. For that, I have created a simple folder <code>play-git</code> here to start playing around. This is usually referred as <code>working area</code> or <code>working repository</code> or <code>working directory</code>.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*hBRrNP1jOnwfwD9KFZmjCw.png alt=4166af8b1ac5d1751e0db7b971fe091f.png></p><p>Next step after this will be creating/initializing a git repository. This can be done using <code>git init</code> command in the <code>working directory</code>.</p><p>[ OUTPUT ]:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Initialized empty Git repository in /home/ayedaemon/extra/playground/play-git/.git/
</span></span></code></pre></div><p>This will create a <code>.git</code> folder in my working repo as indicated by the output of <code>git init</code> command (above).</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*vQK4HULRUlQaa_x_kVQYvw.png alt=adb3f2fb0a40e1c709355decfdaa7e1a.png></p><p>This <code>.git</code> folder is generally called <code>git repository</code>. This is the place where all of the git magic resides. All your configuration files, repo description, commit histories, information about branches, and other git related things are present here in this directory.</p><p>You can think of git as a filesystem. You add, delete, modify, tag, etc..to this filesystem and there are mainly 4 types of objects involved in the whole process - <em>blob, tree, commit, annotated tags</em>. (<a href=https://git-scm.com/book/en/v2/Git-Internals-Git-Objects>Read more about git objects</a>)</p><p>This gives us idea that we need to monitor <code>.git</code> repository for changes after we run each command and understand the relation between those.</p><p>After <code>git init</code> this is the state of my repository. This is the initial state. So <code>git init</code> basically creates an initial state of this repository in the working area.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*nbo7hioiW-1twtxKNyWUjg.png alt=46f0b8890ee7112a046493d085e62694.png></p><p>As it can be seen there are multiple <code>hooks</code> setting.. But they are just samples as of now. We can create our own hooks as per the need. These are simple scripts used to perform some automated tasks on some specific actions. (<a href=https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks>Read more about hooks</a>)</p><p>Most important thing is the <code>HEAD</code>. This is a file which is like a pointer to the commit we are pointing. Mostly all the changes we make are made using <code>HEAD</code> somehow.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*757INPmSPjkt5p8CpCDWrA.png alt=4a586c0fdc56eba09ea2e151b62de01a.png></p><p><code>HEAD</code> points to master for now. We&rsquo;ll look how this file changes it&rsquo;s data with different commands we enter.</p><p>Let&rsquo;s add a file and look for changes in the <code>.git</code> folder for each step.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*Nclw6LsPkoMTnfsbAnF8aA.png alt=82bc5eede0aca16e10f4a7494331f1f9.png></p><p>Looks like there are no changes for simply creating a file and adding some data to it. But things change as soon as I <code>git add .</code> it. So git starts monitoring the changes as soon as I <code>add</code> the files using <code>git add</code> command.</p><p>On investigating it further, we can understand that <code>git add</code> has created a <code>blob</code> object under <code>./.git/objects/</code> folder. And the file is <code>zlib</code> compressed data&mldr; so we can uncompress it and look at the content of that file easily using <code>zlib-flate -uncompress</code> command.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*_A1GdQ4liMxcynp8iAhMQQ.png alt=2a151d08b32a5aa85e8015b67530ef00.png></p><p>On adding a new content to the same file <code>newfile.txt</code>, git created a new blob object. Apparently, git does not store the diffs of the file, instead they store the complete object. So if you have 3 files with a single line of change in each of them, then git is going to store 3 different blobs, instead of storing a diff of the files.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*PoPBHycoASpWcmQprGZqBw.png alt=50e899981ba30ee293b0ce3e5eae3645.png></p><p>You can also notice that here as the previous data is not yet gone from the git repository. We have both of our changes - old and new.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*xjLAb764GY4OYi3VCb-USw.png alt=7340555ef8a6a4d0902818496ee5b378.png></p><p>Let&rsquo;s switch back again to the first data we have entered in the file.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*uOo5vQP3twWEdSnoDPMuGQ.png alt=70732c4b40f878b4d77699be94953a83.png></p><p>This time they have not created any new object.. This means they create a new blob object whenever there is a new data.. and use the previous blob object whenever possible.</p><p>Now let&rsquo;s see what changes do we get on commiting these blob objects.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*DFr0bopyWUazFco2IMTNRw.png alt=009e82b5393da52308aed11ed3038970.png></p><p>On commiting there are 2 more objects and some logs. Let&rsquo;s inspect each one to see if we can get anything out of it.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*1Bm6prZqcZ3mJ4TALFDmjg.png alt=c9a9a7ee7ae4dcc06a275fc1fa5ce302.png></p><p>One of the object is <code>tree</code> object and another one is the <code>commit</code> object. <code>Commit</code> object has all the information about the blob we added and the commit message along with few other details.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*s-1m7MmZibfId2T57UT1zQ.png alt=3aa20774d7dd8243d93d85100dcca0bb.png></p><p>The other 2 logs which were generated are as above. By looking at these we can get that they both point to the commit object for now.</p><p>And if we look at the <code>.git/HEAD</code> file, it still points to this reference - <code>ref: refs/heads/master</code>. Further looking in <code>.git/refs/heads/master</code> file, we get that this points to the commit object we created.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*g6Tmt0Ye63GSIo92f44Q5A.png alt=68cacb0fc7051e7605d1500d4dbdc042.png></p><p>If we are to visualize the current situation it&rsquo;ll be something like this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    HEAD
</span></span><span class=line><span class=cl>      +---------+
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                v
</span></span><span class=line><span class=cl>            master +----------+
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              v
</span></span><span class=line><span class=cl>                    +---------+--------+
</span></span><span class=line><span class=cl>                    |                  |
</span></span><span class=line><span class=cl>                    |    ed6108f       |
</span></span><span class=line><span class=cl>                    |                  |
</span></span><span class=line><span class=cl>                    +------------------+
</span></span></code></pre></div><p>Let&rsquo;s add more commits to it now.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*I2RizOVqQNubcH9WCoSz6Q.png alt=cbdf135114c2841bff7a548a257b0be4.png></p><p>We now have 2 new objects for 2 new files.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*hJlUrb_VRcA-xCwWZdLhkw.png alt=f09ff43bce929443cb27c8608bbc316a.png></p><p>But if we add another file with the same content in it (In other words, if use the repeatative data) then, git will not create new <code>blob</code> objects for it. It&rsquo;ll use the previous blob object to track it.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*emRU-KuEU7GchUWdMDGaWQ.png alt=fe3bbef0a4e866cfeb78eb34787c2cd1.png></p><p>This means that git only tracks the data in the file along with the file name&mldr; instead of directly tracking the files.</p><p>Let&rsquo;s check the logs now.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*74DdNgDolpjCe6q59RvAyg.png alt=dfb9e64baa638695203e6e3703b7d09c.png></p><p>And we can get the same data from the <code>.git/logs/HEAD</code> file.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*vhGSziEggSkqETtVhtrPmw.png alt=c1e284ae4b72cf31682fe33f1789c72b.png></p><p>Again checking on the <code>.git/HEAD</code></p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*kVSAsLYHDYGn9TfPLYGCpA.png alt=6be26d0862e1d91c65932568f0d00252.png></p><p>Visual diagram for the above will look something like this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>     HEAD
</span></span><span class=line><span class=cl>      +---------+
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                |
</span></span><span class=line><span class=cl>                v
</span></span><span class=line><span class=cl>            master +----------+
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              v
</span></span><span class=line><span class=cl>                        +------------------+              +--------+-------+
</span></span><span class=line><span class=cl>                        |                  |              |                |
</span></span><span class=line><span class=cl>                        |    20998091      +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                        |                  |              |                |
</span></span><span class=line><span class=cl>                        +------------------+              +----------------+
</span></span></code></pre></div><p>You can also check this from the screenshot below.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*vbLTth8rJXui9kGYU0ZV5Q.png alt=7f17fb655b855a4d6e8bf4b4e72c859f.png></p><p>Let&rsquo;s go branching now. You can create a new branch using <code>git checkout -b feature</code>. This command will create a branch for you. We can also observe that there are 2 new files.. 1 in the <code>logs</code> and another one in the <code>refs/heads</code>.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*ppcavYaD0ELH2yK6aA3pmw.png alt=503f551455369c3e6381b048cebfd995.png></p><p>Let&rsquo;s see what&rsquo;s there in these files.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*L0sCOP5rzLfvcXBpj9NxDQ.png alt=cbe4568f597d1f155b8115afb2fa706c.png></p><p>We can observe 2 interesting things here:</p><ol><li><code>feature</code> and <code>master</code> branch point to the same commit at the moment.</li><li><code>.git/HEAD</code> (HEAD) points to the <code>feature</code> branch. This means whatever changes we will make it&rsquo;ll be made on the <code>feature</code> branch.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>            master +----------+
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              v
</span></span><span class=line><span class=cl>                        +------------------+              +--------+-------+
</span></span><span class=line><span class=cl>                        |                  |              |                |
</span></span><span class=line><span class=cl>                        |    20998091      +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                        |                  |              |                |
</span></span><span class=line><span class=cl>                        +------------------+              +----------------+
</span></span><span class=line><span class=cl> HEAD                              ^
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  +---------&gt;  feature +-----------+                    
</span></span></code></pre></div><p>Let&rsquo;s add new commits and see if we can see what we just concluded.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*XInKAYXdX0fYXhdx_-MNEg.png alt=5ef13d9b8a5bc1ad9405e0a674ddd7b4.png></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                                            master +--------+
</span></span><span class=line><span class=cl>                                                            |
</span></span><span class=line><span class=cl>                                                            |
</span></span><span class=line><span class=cl>                                                            |
</span></span><span class=line><span class=cl>                                                            v
</span></span><span class=line><span class=cl>                        +----------------+           +-------+----------+              +----------------+
</span></span><span class=line><span class=cl>                        |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                        |  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                        |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                        +----------------+           +------------------+              +---------+------+
</span></span><span class=line><span class=cl> HEAD                              ^
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  |                                |
</span></span><span class=line><span class=cl>  +---------&gt;  feature +-----------+                    
</span></span></code></pre></div><p>At this point, the <code>master</code> is direct parent to the <code>feature</code> branch. So if we just merge <code>feature</code> to <code>master</code> then it&rsquo;ll simply move the label one commit ahead. There is no need for a new commit to add both the changes.</p><p>For this, we need to change back to the master branch. Behind the scenes, this will simply change the <code>.git/HEAD</code> reference to <code>master</code> from <code>feature</code>.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*lI79Jo8v8bvdW4MumLCh9g.png alt=23a94720384d5ba47175ef036e8b53e7.png></p><p>And visually, it&rsquo;ll look something like this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                              HEAD
</span></span><span class=line><span class=cl>                                    +---------+
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                                                |  
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                                                v
</span></span><span class=line><span class=cl>                                              master +--------+
</span></span><span class=line><span class=cl>                                                              |
</span></span><span class=line><span class=cl>                                                              |
</span></span><span class=line><span class=cl>                                                              |
</span></span><span class=line><span class=cl>                                                              v
</span></span><span class=line><span class=cl>                        +----------------+           +-------+----------+              +----------------+
</span></span><span class=line><span class=cl>                        |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                        |  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                        |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                        +----------------+           +------------------+              +---------+------+
</span></span><span class=line><span class=cl>                                   ^
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>               feature +-----------+    
</span></span></code></pre></div><p>We can see that there are some changes in the <code>feature</code> branch that <code>master</code> branch does not have yet. We can merge <code>feature</code> branch to <code>master</code> branch to get these features in the <code>master</code>.</p><p>To merge, we need to switch to master branch, and then simply merge it.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*Yd6L72qzwOmpxI1_BQqlAQ.png alt=47dda33a7e15a0152c7316dd65624f2a.png></p><p>This type of merge is called <code>fast-forward</code> merge (as given in the output). This is simply moving forward and shifting the label (<code>master</code>) to point to appropriate commit.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>    HEAD
</span></span><span class=line><span class=cl>        +---------+
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    |  
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    v
</span></span><span class=line><span class=cl>                    master +--------+
</span></span><span class=line><span class=cl>                                    |
</span></span><span class=line><span class=cl>                                    |
</span></span><span class=line><span class=cl>                                    |
</span></span><span class=line><span class=cl>                                    v
</span></span><span class=line><span class=cl>                        +----------------+           +-------+----------+              +----------------+
</span></span><span class=line><span class=cl>                        |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                        |  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                        |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                        +----------------+           +------------------+              +---------+------+
</span></span><span class=line><span class=cl>                                   ^
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>                                   |
</span></span><span class=line><span class=cl>               feature +-----------+
</span></span></code></pre></div><p>Let&rsquo;s make more changes to <code>feature</code> and <code>master</code> both. And then merge them.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*5Y6skgMMb_rvh0L1A1dJtA.png alt=89af308b8586ed845882a9b37afabbd9.png></p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*NdS8odkqsUX6I0tkULNU3Q.png alt=6efd02ef2eeddea7e22247c59d19bc3f.png></p><p>Looking the logs in <code>feature</code> branch, we get -</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*nMoG2TMeKji6cHe5v8tfSw.png alt=8ebabbb22d1cf081a0b208a5b10d5f01.png></p><p>And for <code>master</code> branch -</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*s7R8lIYHci4BfnUHQUBH_w.png alt=53f63b918e79fc7eb5f92411893378e0.png></p><p>We can clearly see that both have all the commits same except the latest one. And since both the branches had their different log files they have separate logs. But we can use a pretty handy command to check both the logs combined and a graphical representation (sort of) for both.</p><p><code>git log --graph --decorate --all</code></p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*LQQhmQOszVpyv2-7VKeGMg.png alt=2734b5233469d2083bff6480e05f873a.png></p><p>Since I am in my main branch right now, so the <code>HEAD</code> points to <code>master</code>.</p><p>This situation will look something like this diagram below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HEAD
</span></span><span class=line><span class=cl>    +---------+
</span></span><span class=line><span class=cl>              |
</span></span><span class=line><span class=cl>              |
</span></span><span class=line><span class=cl>              v
</span></span><span class=line><span class=cl>              master +--------+
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              |
</span></span><span class=line><span class=cl>                              v
</span></span><span class=line><span class=cl>                      +-------+-------+      +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>                      |               |      |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                      |   633145f     +&lt;--+--+  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                      |               |   |  |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                      +---------------+   |  +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>                                          |
</span></span><span class=line><span class=cl>                                          |
</span></span><span class=line><span class=cl>                                          |
</span></span><span class=line><span class=cl>                                          |
</span></span><span class=line><span class=cl>                     +----------------+   |
</span></span><span class=line><span class=cl>                     |                |   |
</span></span><span class=line><span class=cl>                     |  68d38e06      +&lt;--+
</span></span><span class=line><span class=cl>                     |                |
</span></span><span class=line><span class=cl>                     +-------+--------+
</span></span><span class=line><span class=cl>                             ^
</span></span><span class=line><span class=cl>                             |
</span></span><span class=line><span class=cl>                             |
</span></span><span class=line><span class=cl>         feature +-----------+
</span></span></code></pre></div><p>let&rsquo;s see what happens when we merge these 2 branches now.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*S5b5pJGsxqKgU0i_I89fIg.png alt=b1983eee80e14c1595471d2c2b3ec4ee.png></p><p>This time it creates a new commit to merge both the branches and moves label <code>master</code> ahead to that commit, along with the <code>HEAD</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>HEAD
</span></span><span class=line><span class=cl>  +---------+
</span></span><span class=line><span class=cl>            |
</span></span><span class=line><span class=cl>            |
</span></span><span class=line><span class=cl>            v
</span></span><span class=line><span class=cl>          master +--+
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    |
</span></span><span class=line><span class=cl>                    v
</span></span><span class=line><span class=cl>            +-------+---------+         +---------------+      +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>            |                 |         |               |      |                |           |                  |              |                |
</span></span><span class=line><span class=cl>            |  76b2abc        +&lt;--------+   633145f     +&lt;--+--+  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>            |                 |         |               |   |  |                |           |                  |              |                |
</span></span><span class=line><span class=cl>            +-------+---------+         +---------------+   |  +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>                    ^                                       |
</span></span><span class=line><span class=cl>                    |                                       |
</span></span><span class=line><span class=cl>                    |                                       |
</span></span><span class=line><span class=cl>                    |                                       |
</span></span><span class=line><span class=cl>                    |                  +----------------+   |
</span></span><span class=line><span class=cl>                    |                  |                |   |
</span></span><span class=line><span class=cl>                    +------------------+  68d38e06      +&lt;--+
</span></span><span class=line><span class=cl>                                       |                |
</span></span><span class=line><span class=cl>                                       +--------+-------+
</span></span><span class=line><span class=cl>                                                ^
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                                                |
</span></span><span class=line><span class=cl>                            feature +-----------+
</span></span></code></pre></div><p>In this merge, <code>master</code> calculated that it is not in the same hierarchy as <code>feature</code>. So it created a new object, merged the data from the feature and commited it as any other object.</p><p>After merging, <code>master</code> and <code>head</code> labels will move forward to the latest commit. But the <code>feature</code> will be the same as before&mldr; as we have not changed anything in that yet.</p><p>What if that this new commit <code>76b2abc</code> was a mistake and we want our <code>master</code> and <code>HEAD</code> labels back to commit <code>633145f</code>?</p><p>We can simply reset the commits by <code>git reset 633145</code> command. This will move my labels back to this commit mentioned.</p><p>Interestingly enough, this will not remove the commit <code>76b2abc</code> from the <code>.git/objects/</code> directory. It&rsquo;ll simply write a new log in the logs file and <code>git log --graph --decorate --all</code> command will give you a good output back.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*08ueelzQ8hCciCTFnObOXg.png alt=9584163f6f8878fd479038b5bae49d53.png></p><p><strong>What if we want to test the new feature with all the current updates of master?</strong></p><p>For this, we need to go to <code>feature</code> branch and merge <code>master</code> to it using <code>git merge master</code></p><p><em>(I had to remove <code>newfile7.txt</code> from <code>master</code> branch in order to switch the branch as there were few changes untracked. There are other ways around this as well, but to keep things simple I just deleted it)</em></p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*pLucA0coDh_U9fddlJXONg.png alt=9d399a607e2c967a20bd135c2f73f4f1.png></p><p>This is again <strong>recursive strategy</strong> merge.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                                              master +--+
</span></span><span class=line><span class=cl>                                                        |
</span></span><span class=line><span class=cl>                                                        |
</span></span><span class=line><span class=cl>                                                        |
</span></span><span class=line><span class=cl>                                                        v
</span></span><span class=line><span class=cl>                                               +--------+------+      +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>                                               |               |      |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                           +-------------------+   633145f     +&lt;--+--+  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>                           |                   |               |   |  |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                           |                   +---------------+   |  +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>                           |                                       |
</span></span><span class=line><span class=cl>                           |                                       |
</span></span><span class=line><span class=cl>                           |                                       |
</span></span><span class=line><span class=cl>                           |                                       |
</span></span><span class=line><span class=cl>                  +--------v--------+         +----------------+   |
</span></span><span class=line><span class=cl>                  |                 |         |                |   |
</span></span><span class=line><span class=cl>                  |    88dd609c     +&lt;--------+  68d38e06      +&lt;--+
</span></span><span class=line><span class=cl>                  |                 |         |                |
</span></span><span class=line><span class=cl>                  +--------+--------+         +----------------+
</span></span><span class=line><span class=cl>                           ^
</span></span><span class=line><span class=cl>                           |
</span></span><span class=line><span class=cl>                           |
</span></span><span class=line><span class=cl>    +-----&gt; feature +------+
</span></span><span class=line><span class=cl>    |
</span></span><span class=line><span class=cl>    |
</span></span><span class=line><span class=cl>HEAD+
</span></span></code></pre></div><p>This way there was no change made in the <code>master</code> and a new <code>feature</code> was added and can be tested properly. You can call this <code>feature integration test</code>. If the feature passes the tests and we decide to update <code>master</code> with this feature, we can simply switch to <code>master</code> branch and merge <code>feature</code> to it.</p><p>After checking out to <code>master</code> using <code>git checkout master</code> command, <code>HEAD</code> points to <code>master</code> like in the screenshot below.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*BNZEHTYipmrr07qggYpuxw.png alt=57556ceaeef66bd42d848dbcee4ba250.png></p><p>On merging, we get a <code>fast-forward</code> merge since the <code>master</code> is direct parent of the commit which is to be merged and there was no need of a new commit to be created.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*Wr8uyhO-Z4ZaOIQTONgL1A.png alt=07a8c21c8d877800f8133fda85649cc6.png></p><p>After merge, <code>master</code>, <code>HEAD</code>, and <code>feature</code> point to the same commit.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*DwuBaYNqhryqOIaTKQhvXg.png alt=f3a0e106a715bfc7c9fb29294c2be6ae.png></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                                                +---------------+      +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>                                                |               |      |                |           |                  |              |                |
</span></span><span class=line><span class=cl>                                   +------------+   633145f     +&lt;--+--+  748ffe6       +&lt;----------+   20998091       +&lt;-------------+   ed6108f      |
</span></span><span class=line><span class=cl>    +-----&gt; master +--+            |            |               |   |  |                |           |                  |              |                |
</span></span><span class=line><span class=cl>    |                 |            |            +---------------+   |  +----------------+           +------------------+              +----------------+
</span></span><span class=line><span class=cl>    |                 |            |                                |
</span></span><span class=line><span class=cl>HEAD+                 |            |                                |
</span></span><span class=line><span class=cl>                      v            |                                |
</span></span><span class=line><span class=cl>                   +--+------------v-+                              |
</span></span><span class=line><span class=cl>                   |                 |         +----------------+   |
</span></span><span class=line><span class=cl>                   |                 |         |                |   |
</span></span><span class=line><span class=cl>                   |    88dd609c     +&lt;--------+  68d38e06      +&lt;--+
</span></span><span class=line><span class=cl>                   |                 |         |                |
</span></span><span class=line><span class=cl>                   +--------+--------+         +----------------+
</span></span><span class=line><span class=cl>                            ^
</span></span><span class=line><span class=cl>                            |
</span></span><span class=line><span class=cl>                            |
</span></span><span class=line><span class=cl>             feature +------+
</span></span></code></pre></div><h3 id=collaborating-with-git>Collaborating with git<a hidden class=anchor aria-hidden=true href=#collaborating-with-git>#</a></h3><p>Usually we don&rsquo;t use git standalone in our machine. What I mean is, we do use git locally most of the time but at some point we need to share our commits to someone else via network.</p><p>To cover up the whole picture in a line &ndash;></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>To **get commits** from someone else we need to do `git pull`... and to **send our commits** out on the internet we need to `git push`.
</span></span></code></pre></div><p>I am going the way we usually go and do things - &ldquo;start with cloning a repo&rdquo;. After cloning a repo I have got this.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*OAjmAcpPHS3lh__6a8eG4A.png alt=3136b34c3d1fb691978ba27ba7fe040c.png></p><p>Let&rsquo;s inspect it.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*CCgmt9_00ZtzwhgGrcy8fw.png alt=181dada91166befe05f1027229e9926e.png></p><p>This time there are no obects like the last time. But we have new kinds of files - <code>pack</code> and <code>idx</code>. Git creates <code>pack</code> file(s) by reading a list of git objects and then convert this <code>pack</code> file to <code>idx</code> (index) file. This can be used by git to know the information about the <code>git objects</code> used to create <code>pack</code> file. But this is not important at the point.</p><p>The point I wanted to get started with is <strong>remotes</strong>. There is a new reference in <code>.git/refs/</code> directory that points to something called <code>remotes/origin/HEAD</code>.</p><p><strong>So what the heck is <code>origin</code> anyway? Why should I care?</strong></p><p>If you go out and check the <code>.git/config</code> file&mldr;you will know what origin means.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*uLZxtZhKrfRCqb6GCqprCA.png alt=698de5dd7d0f76d92fda7600133deff3.png></p><p>Here <code>origin</code> is just a name that points to the github repo from which I cloned my current repository. So yeah, you should care about it if you have any intensions to push/pull to this remote repository anytime in future.</p><p>Any branch with syntax like <code>refs/remotes/*/*</code> is called <strong>remote tracking branch</strong>. As the name suggests, it helps in tracking the remote status. It always show the remote status according to the last time both were synced together..and then they stay where ever they are until they are synced again.</p><p>So from all this, we can see that there is no exact need for <code>origin</code> or simply <code>remote</code> to be on the internet or in the network all the time. They both just need to be in contact whenever these needs to be synced. After that&rsquo;s the whole point of being a distributed system.</p><p>What we need is a <code>remote</code> repository..that can give us the pack files&mldr;and other objects&mldr; and then a <code>working</code> directory that we can use to add our changes and maybe another working directory that someone else is using to make his changes.</p><p>Workflow I am going to use now is as follows:-</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>                  start project
</span></span><span class=line><span class=cl>                       +
</span></span><span class=line><span class=cl>                       |
</span></span><span class=line><span class=cl>                       v
</span></span><span class=line><span class=cl>                   add new file
</span></span><span class=line><span class=cl>       +------------+      +-----------+
</span></span><span class=line><span class=cl>       |                               |
</span></span><span class=line><span class=cl>       v                               v
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>make a feature                 fix some old bugs
</span></span><span class=line><span class=cl>      +                            		 +
</span></span><span class=line><span class=cl>      |                             	 |
</span></span><span class=line><span class=cl>      |                              	 |
</span></span><span class=line><span class=cl>      |                             	 |
</span></span><span class=line><span class=cl>      |                             	 |
</span></span><span class=line><span class=cl>      v                             	 |
</span></span><span class=line><span class=cl>                                    	 |
</span></span><span class=line><span class=cl>  integrate and test new feature  &lt;------+
</span></span><span class=line><span class=cl>         +
</span></span><span class=line><span class=cl>         |
</span></span><span class=line><span class=cl>         |
</span></span><span class=line><span class=cl>         |
</span></span><span class=line><span class=cl>         |
</span></span><span class=line><span class=cl>         |
</span></span><span class=line><span class=cl>         |
</span></span><span class=line><span class=cl>         +---------&gt; (Push now)
</span></span></code></pre></div><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*awN0OcR6ChWNGImDu5NQzg.png alt=0c57e1dc0af1138ed7eece4e94aca6e6.png></p><p>After integrating <code>master</code> to our <code>feature</code> we have:-</p><ul><li>a <code>feature</code> branch with new feature and base from <code>master</code>.</li><li>and <code>master</code> which is not changed.</li></ul><p>So if we want we can always use the previous stable version <code>master</code> or the bleeding edge <code>feature</code>.</p><p>Now time to push it&mldr; But instead of actually pushing it, I&rsquo;ll make a local bare clone that is exactly same as the repo handled by github or similar after you make a push.</p><p>To make a bare clone of the repo you can use <code>--bare</code> option and rest is same.</p><p>Command:- <code>git clone --bare mywork remote_repo</code></p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*skK2pYPZ_vXQVRDUDW1Fzg.png alt=0cf881166a102a8aa84db52c613f020f.png></p><p>Now I have 2 repos&mldr; And the <code>remote_repo</code> has the content of <code>.git</code> folder&mldr; It does not have any tracking branches this time. Well, we don&rsquo;t need tracking branches in this repo. Do we?</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*DoDgTjon2rAG6qheeU_K3Q.png alt=3986910788e8cbf223fdcbcae8f6f761.png></p><p>Also I can see that all the commits I made are present there in the <code>remote_repo</code>.</p><p>Let&rsquo;s say now someone clones this repo&mldr;</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*O039qFVURwsVx7BsafKgjg.png alt=e8da0bce0f78d071e31b92bfb61f7d2e.png></p><p>He also gets all the commits from the remote repo</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*_1uhCzyMGxUsFRXKs4QPXg.png alt=17a69641d9e36ecd14bd726b471200af.png></p><p>With my <code>remote_repo</code> as the <code>origin</code>.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*YkdMCeLFjOCo6YLdQA-QUQ.png alt=cca341285a51caf580664998bfccc2b3.png></p><p>Because <code>origin</code> can be any bare repository.</p><p>After someone has added their own branch and commited that change to his repo. Now he is ready to push/share the changes to/with origin.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*s6nAQgt2fhjaGqk04X047g.png alt=a8a8d0aa33f7a36f7a458033031dbfe4.png></p><p>He can share the data simply using the <code>push</code> command.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*hys3WwsBfL2X5MFarjJfBQ.png alt=4ec7a1e0d63e4c04b301713c4edd24ca.png></p><p>Now our origin has got that new branch. So I had made changes to <code>master</code> branch it would have reflected in the master branch of the <code>origin</code>.</p><p>After running below commands, <code>someone</code> can switch to his <code>master</code> branch and merge his <code>user_feature</code> branch.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git checkout master
</span></span><span class=line><span class=cl>git merge user_feature
</span></span></code></pre></div><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*u2nxwq7h6iqoH90HDX81sQ.png alt=1d5c65d132d775240cd239b78e89d1ab.png></p><p><code>master</code> has now got all the new commits. Time to push/share master to our origin.</p><p><img loading=lazy src=https://cdn-images-1.medium.com/proxy/1*ylZQEbguGwLgPLGWeqpyRA.png alt=9c97cab32e0355e39989991912c21ad4.png></p><p>After pushing changes to <code>origin</code> all the commits made to <code>master</code> are shared with <code>origin/master</code> and now both of them point to a single commit.</p><p>I can also <code>pull</code> the changes from <code>remote_repo</code> to <code>mywork</code>&mldr; the only thing I have to do is set a <code>remote</code> that points to the repo I want to pull data from.</p><p>Or for now I can simply specify from where to pull and merge where.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git pull ./../remote_repo/ master
</span></span></code></pre></div><p>This will give me the latest commits made by <em>someone</em> and pushed to remote.</p><h3 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h3><p>This is how a typical git flow works. There are obviously other git flows better and complex than this but knowing this flow gives you a basic idea of how to make your way around git and use it effectively to manage your project.</p><p><strong>Where to go from here??</strong>
You should start playing on your own exploring more commands and looking up their <code>help pages</code> for descriptions and other information. I&rsquo;ll recommend to read the <a href=https://git-scm.com/book/en/v2><code>Pro Git</code> Book</a> to understand other concepts as well. It is available for free.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ayedaemon.github.io/tags/git/>git</a></li></ul><nav class=paginav><a class=prev href=https://ayedaemon.github.io/post/2022/02/fileless-malwares-how-and-why/><span class=title>« Next</span><br><span>File-less malwares: what and how</span>
</a><a class=next href=https://ayedaemon.github.io/post/2021/02/keylogger-for-linux/><span class=title>Prev »</span><br><span>Keylogger for Linux</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://ayedaemon.github.io/>Connected</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>