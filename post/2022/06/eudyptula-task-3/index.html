<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Eudyptula Task3 | Connected</title>
<meta name=keywords content="Eudyptula,linux"><meta name=description content="Task 3 for Eudyptula challenge"><meta name=author content="ayedaemon"><link rel=canonical href=https://ayedaemon.github.io/post/2022/06/eudyptula-task-3/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://ayedaemon.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ayedaemon.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ayedaemon.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ayedaemon.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ayedaemon.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Eudyptula Task3"><meta property="og:description" content="Task 3 for Eudyptula challenge"><meta property="og:type" content="article"><meta property="og:url" content="https://ayedaemon.github.io/post/2022/06/eudyptula-task-3/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-06-16T16:14:27+05:30"><meta property="article:modified_time" content="2024-04-02T17:19:43+05:30"><meta property="og:see_also" content="https://ayedaemon.github.io/post/2023/05/eudyptula-task-7/"><meta property="og:see_also" content="https://ayedaemon.github.io/post/2022/09/eudyptula-task-6/"><meta property="og:see_also" content="https://ayedaemon.github.io/post/2022/06/eudyptula-task-5/"><meta property="og:see_also" content="https://ayedaemon.github.io/post/2022/06/eudyptula-task-4/"><meta property="og:see_also" content="https://ayedaemon.github.io/post/2022/06/eudyptula-task-2/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Eudyptula Task3"><meta name=twitter:description content="Task 3 for Eudyptula challenge"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ayedaemon.github.io/post/"},{"@type":"ListItem","position":2,"name":"Eudyptula Task3","item":"https://ayedaemon.github.io/post/2022/06/eudyptula-task-3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Eudyptula Task3","name":"Eudyptula Task3","description":"Task 3 for Eudyptula challenge","keywords":["Eudyptula","linux"],"articleBody":"This is Task 03 of the Eudyptula Challenge ------------------------------------------ Now that you have your custom kernel up and running, it's time to modify it! The tasks for this round is: - take the kernel git tree from Task 02 and modify the Makefile to and modify the EXTRAVERSION field. Do this in a way that the running kernel (after modifying the Makefile, rebuilding, and rebooting) has the characters \"-eudyptula\" in the version string. - show proof of booting this kernel. Extra cookies for you by providing creative examples, especially if done in intrepretive dance at your local pub. - Send a patch that shows the Makefile modified. Do this in a manner that would be acceptable for merging in the kernel source tree. (Hint, read the file Documentation/SubmittingPatches and follow the steps there.) Linux kernel source code is very huge and compiling such source code files can be tiring, especially when you have to include several source files from different directories and type the compiling command every time you need to compile. Makefiles are the solution to automate and simplify this task.\nWhat is a Makefile?? Makefile is a specially formated file which contains all the steps to compile your program in the form of rules. These rules are also sometimes referred as recipes (‚Ä¶but they both are totally different thingsü§∑‚Äç‚ôÇÔ∏è) and these rules are executed by a utility called make. You might have used make to compile a program from source code. Most open source projects use it to compile a final executable binary, which can then be installed typically using make install.\nUnderstand with examples Let‚Äôs start with very simple and classic example - ‚ÄúHello World‚Äù. To begin with, create a new directory called my_make_dir containing a Makefile with below contents in it.\n# Comment - this says hello say_hello: echo \"Hello World\" If you run make say_hello inside the directory, it‚Äôll give below output:\necho \"Hello World\" Hello World We just created our first Makefile rule and triggered it to run. Here say_hello behaves like a function name, this is also called target and echo \"Hello World\" is a recipie. In a single Makefile there can be multiple targets with multiple sets of recepies.\nLet‚Äôs take a look at another example now,\n# Comment - this says hello say_hello: echo \"Hello World\" say_bye: say_hello echo \"I'm going now!\" echo \"Bye Bye world\" In above example, we have 2 targets, namely, say_hello and say_bye. In the target - say_bye, we have set say_hello as dependency or prerequisite. Pre-requisites are like another targets in the Makefile which should run before the intended target. So when we will invoke say_bye command, it‚Äôll first trigger the prerequisite say_hello and then say_bye will be triggered.\n# COMMAND - make say_bye echo \"Hello World\" Hello World echo \"I'm going now!\" I'm going now! echo \"Bye Bye world\" Bye Bye world Another key point about make utility is that whenever it does not take any targets to trigger, it‚Äôll trigger the top most target present in the Makefile. In this case, it‚Äôll trigger say_hello as it is in the first target in the Makefile.\n# COMMAND - make echo \"Hello World\" Hello World More practical examples Now we know some basic terminology around Makefiles and how it works. Let‚Äôs take a look at some more practical example that can be related to a real-world task.\nall: say_hello generate say_hello: @echo \"Hello World\" generate: @echo \"Creating empty text files...\" touch file-{1..10}.txt clean: @echo \"Cleaning up...\" rm *.txt say_bye: clean @echo \"Bye World\" In above example, we have got many targets, some with pre-requisites and some without those. Let‚Äôs pick each one of them and go one by one:\nall : This is the first target in the file and if we do not pass any target to make utility, it‚Äôll trigger this target by default. This has got no recipes - just a simple rule without recipes. But this rule has some pre-requisites that will run before anything (in the given order - First say_hello and generate. say_hello : This is another target that can be triggered as a single rule or as a pre-requisite for all target. Anyways, it‚Äôll simply print the following string - Hello World. generate : This target is responsible to generate 10 empty files ranging from 1-10. Just like say_hello, it can also be triggered as a single standalone target or as a pre-requisite for all target. Clean : This target cleans all the .txt files from the folder. Idea is to delete all the files created by generate target. say_bye : This target prints ‚ÄúBye World‚Äù, but has clean target as a pre-requisite so it‚Äôll first clean and then it‚Äôll run it‚Äôs own recipes. Note:- any line after # (hash) character will be treated as comments by make utility\nNow we understand what the Makefile consists of, let‚Äôs see how we are going to use it for our case.\nTo get a ‚ÄúHello World‚Äù msg and create all the files we can simply type make. This will trigger the first target all, that in turn will execute say_hello and generate. Once you are done with everything and what to clean-up the mess, you can just type make bye_world. This target will first clean and then provide you with a goodbye message. That‚Äôs it. Pretty easy, isn‚Äôt it? Now let‚Äôs bang our head with another example that is more close to the real world application.\nFor this, we need to write our program (I‚Äôll use C language for that, language is never a barrier for make command). Open up a text editor and write your first HelloWorld.c program.\n#include int main() { printf(\"Hello World\\n\"); return 0; } The above program will simply print ‚ÄúHello World‚Äù when compiled and executed. We can write make recipes for this now.\n# Compile the source code HelloWorld.o: HelloWorld.c gcc HelloWorld.c -o HelloWorld.o # Execute the binary HelloWorld: HelloWorld.o ./HelloWorld.o The above Makefile has 2 rules with HelloWorld.o and HelloWorld as targets. Both targets have some recipes and some pre-requisites to it. Remember, the pre-requisite executes first and then the actual recipe for the target‚Ä¶ That‚Äôs how these rules work.\nSo if I trigger HelloWorld target, then it‚Äôll trigger the HelloWorld.o target as pre-requisite, which will compile the HelloWorld.c source code; Once the HelloWorld.o target is completed, it‚Äôll execute the generated ./HelloWorld.o binary‚Ä¶ This can be now further reduced to just invoking single make command, by making sure that HelloWorld target runs first by default.\nYou‚Äôll have to change the Makefile to get desired behaviour,\n# Creates a variable (this points to the compiler) CC=gcc # First target in the file, default. all: HelloWorld # Executes the source code HelloWorld: HelloWorld.o ./HelloWorld.o # Compile the source code HelloWorld.o: HelloWorld.c ${CC} HelloWorld.c -o HelloWorld.o Above Makefile is now good to compile and run our source code. It has got a variable that stores the compiler name, and it is used in HelloWorld.o target with ${CC} syntax. I believe you understand the rest.\nNow you can invoke make and it‚Äôll compile the source and execute the binary in a single go. One key thing to observe here is, that when we run make multiple times without changing the source code, it is not recompiling the code. This saves us a lot of time. And this is exactly why make is so de-facto automation tool for such usecases. (not ‚Äúde-facto‚Äù, but you get it, right?)\nNow, what about cleaning?? We gotta clean our mess. Although we don‚Äôt have huge mess, but mess is mess and one gotta take care of his own mess. So we are going to write another rule in our Makefile.\n# Deletes the executable binary file clean: rm -rf HelloWorld.o Now, anybody who will be using this, just needs to remember 2 commands:-\nmake : to actually compile and run the binary file. make clean : To remove the compiled binary file. Makefile for kernel Linux Kernel also uses makefiles (Plural; not singular) to make the building process relatively very easy for anybody. They just have to type 2 commands and a fresh new custom kernel will be ready for them. Although, this might take a lot of time depending upon what hardware you are running on and what files are you gonna compile.\nTake a look at the top few lines of the Makefile in the top most directory of source tree.\n# SPDX-License-Identifier: GPL-2.0 VERSION = 5 PATCHLEVEL = 19 SUBLEVEL = 0 EXTRAVERSION = -ExtraVersionText NAME = Superb Owl This tells about a lot of things related to version and name given to that version. We can see our EXTRAVERSION which I‚Äôve changed in the file (for Task 3 - Eudyptula Challenge).\nReading further down, we have so many sections, separated with comment blocks. These comment blocks are simple and grep-able, give them a try. Once we are comfortable with the idea of Makefiles and linux kernel, we can now connect all the dots and understand how things are linked together.\nWe started with a .config file, that contains all the required kernel configurations. This file is then read by the top-level Makefile in linux kernel directory. This Makefile is responsible for building 2 major products: vmlinux \u0026 modules. To achive this, make goes recursively into the sub-directories of kernel source tree and builds and compiles everything. The list of directories is determined using the .config file‚Ä¶. because that‚Äôs what we want to compile. According to the official kernel docs, people have four different relationships with the kernel Makefiles.\nSome will simply build kernel using commands like make menuconfig and make Some will work with device drivers or other kernel features and will have to deal with kbuild makefiles for each subsystem they are working on. A few will be working with architecture specific code and will be responsible for arch makefiles. And then, there are kbuild developers‚Ä¶. people who work on the kernel build system itself. There are many things that a kernel developer needs to understand when he/she is working on kernel features. One of those many things is to understand kernel build makefiles. If you want, read more about important segments of a kernel makefile from official documentations here.1\nNow we know what makefile is, how it works and little bit about kernel makefile. Now the last part of the task - to make a patch of modified Makefile. This is very easy with git‚Ä¶ you know git right?\nJust do git diff Makefile in linux kernel source directory. Executing this command should give you output like below.\ndiff --git a/Makefile b/Makefile index 1a6678d81..25e909b50 100644 --- a/Makefile +++ b/Makefile @@ -2,7 +2,7 @@ VERSION = 5 PATCHLEVEL = 19 SUBLEVEL = 0 -EXTRAVERSION = -rc2 +EXTRAVERSION = -ExtraVersionText NAME = Superb Owl # *DOCUMENTATION* But this is not a patch‚Ä¶ it is just a diff, showing what things changed. To make a actual patch you need to do more than this.\n## After modifying the Makefile git add Makefile git commit -m \"Modified Makefile\" git format-patch -1 HEAD -- Makefile ## OUTPUT - 0001-modified-makefile.patch # COMMAND - cat 0001-modified-makefile.patch From 45176125f95a5606ab4334f334634e19492f4928 Mon Sep 17 00:00:00 2001 From: ayedaemon Date: Sat, 18 Jun 2022 10:54:16 +0530 Subject: [PATCH] modified makefile --- Makefile | 2 +- 1 file changed, 1 insertion(+), 1 deletion(-) diff --git a/Makefile b/Makefile index b815ea3..7d97ece 100644 --- a/Makefile +++ b/Makefile @@ -1,6 +1,6 @@ VERSION = 5 PATCHLEVEL = 19 SUBLEVEL = 0 -EXTRAVERSION = -rc2 +EXTRAVERSION = -ExtraVersionText NAME = Superb Owl -- 2.36.1 Now this gives you a patch file in an email format. That‚Äôs convinient if you just want generate a patch and send it to someone using CLI mail client tools. Your work as a bug fixer/ feature developer/ etc is done once you have submitted the patch.\nSubmit the patch!! But where?? Linux kernel developers have also made automation scripts for you that actually finds the maintainers for a file.\n./scripts/get_maintainer.pl -f Makefile Output:-\nMasahiro Yamada \u003cmasahiroy@kernel.org\u003e (maintainer:KERNEL BUILD + files below scripts/ (unless mai...) Michal Marek \u003cmichal.lkml@markovi.net\u003e (maintainer:KERNEL BUILD + files below scripts/ (unless mai...) Nick Desaulniers \u003cndesaulniers@google.com\u003e (reviewer:KERNEL BUILD + files below scripts/ (unless mai...) Nick Terrell \u003cterrelln@fb.com\u003e (maintainer:ZSTD) Alexei Starovoitov \u003cast@kernel.org\u003e (supporter:BPF (Safe dynamic programs and tools)) Daniel Borkmann \u003cdaniel@iogearbox.net\u003e (supporter:BPF (Safe dynamic programs and tools)) Andrii Nakryiko \u003candrii@kernel.org\u003e (supporter:BPF (Safe dynamic programs and tools)) Martin KaFai Lau \u003ckafai@fb.com\u003e (reviewer:BPF (Safe dynamic programs and tools)) Song Liu \u003csongliubraving@fb.com\u003e (reviewer:BPF (Safe dynamic programs and tools)) Yonghong Song \u003cyhs@fb.com\u003e (reviewer:BPF (Safe dynamic programs and tools)) John Fastabend \u003cjohn.fastabend@gmail.com\u003e (reviewer:BPF (Safe dynamic programs and tools)) KP Singh \u003ckpsingh@kernel.org\u003e (reviewer:BPF (Safe dynamic programs and tools)) Nathan Chancellor \u003cnathan@kernel.org\u003e (supporter:CLANG/LLVM BUILD SUPPORT) Tom Rix \u003ctrix@redhat.com\u003e (reviewer:CLANG/LLVM BUILD SUPPORT) linux-kbuild@vger.kernel.org (open list:KERNEL BUILD + files below scripts/ (unless mai...) linux-kernel@vger.kernel.org (open list) netdev@vger.kernel.org (open list:BPF (Safe dynamic programs and tools)) bpf@vger.kernel.org (open list:BPF (Safe dynamic programs and tools)) llvm@lists.linux.dev (open list:CLANG/LLVM BUILD SUPPORT) The above list gives you the recipients list for you patch. Before submitting your patch, please read the official kernel documentations2 to know mode about the patch submissions.\nhow do they apply my patch?? Maintainers (or the person you just submitted your patch) will check your patch and if everything is good, they‚Äôll apply your patch to their codebase.\ngit provides an easy way to do that using the patch file‚Ä¶ just type below command and the patch will be applied.\ngit apply 0001-modified-makefile.patch Conclusion Linux kernel is very huge project which involves tons of people. This looks very chaotic and scary, but it works!! Among many other tools/scripts, Git and Makefiles are the 2 important tools this chaotic process relies upon. One should have good understanding about these tools to take part in the development process of kernel.\nhttps://www.kernel.org/doc/html/latest/kbuild/makefiles.html#the-kbuild-files¬†‚Ü©Ô∏é\nhttps://www.kernel.org/doc/html/latest/process/submitting-patches.html¬†‚Ü©Ô∏é\n","wordCount":"2292","inLanguage":"en","datePublished":"2022-06-16T16:14:27+05:30","dateModified":"2024-04-02T17:19:43+05:30","author":[{"@type":"Person","name":"ayedaemon"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://ayedaemon.github.io/post/2022/06/eudyptula-task-3/"},"publisher":{"@type":"Organization","name":"Connected","logo":{"@type":"ImageObject","url":"https://ayedaemon.github.io/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://ayedaemon.github.io/ accesskey=h title="Connected (Alt + H)">Connected</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://ayedaemon.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://ayedaemon.github.io/series/ title=Series><span>Series</span></a></li><li><a href=https://ayedaemon.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://ayedaemon.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Eudyptula Task3</h1><div class=post-description>Task 3 for Eudyptula challenge</div><div class=post-meta><span title='2022-06-16 16:14:27 +0530 +0530'>June 16, 2022</span>&nbsp;¬∑&nbsp;11 min&nbsp;¬∑&nbsp;2292 words&nbsp;¬∑&nbsp;ayedaemon&nbsp;|&nbsp;<a href=https://github.com/ayedaemon/ayedaemon.github.io/tree/main/content/post/2022/06/Eudyptula-task-3.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-is-a-makefile aria-label="What is a Makefile??">What is a Makefile??</a><ul><li><a href=#understand-with-examples aria-label="Understand with examples">Understand with examples</a></li><li><a href=#more-practical-examples aria-label="More practical examples">More practical examples</a></li></ul></li><li><a href=#makefile-for-kernel aria-label="Makefile for kernel">Makefile for kernel</a><ul><li><a href=#submit-the-patch-but-where aria-label="Submit the patch!! But where??">Submit the patch!! But where??</a></li><li><a href=#how-do-they-apply-my-patch aria-label="how do they apply my patch??">how do they apply my patch??</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>This is Task 03 of the Eudyptula Challenge
</span></span><span class=line><span class=cl>------------------------------------------
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Now that you have your custom kernel up and running, it&#39;s time to modify
</span></span><span class=line><span class=cl>it!
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>The tasks for this round is:
</span></span><span class=line><span class=cl>  - take the kernel git tree from Task 02 and modify the Makefile to
</span></span><span class=line><span class=cl>    and modify the EXTRAVERSION field.  Do this in a way that the
</span></span><span class=line><span class=cl>    running kernel (after modifying the Makefile, rebuilding, and
</span></span><span class=line><span class=cl>    rebooting) has the characters &#34;-eudyptula&#34; in the version string.
</span></span><span class=line><span class=cl>  - show proof of booting this kernel.  Extra cookies for you by
</span></span><span class=line><span class=cl>    providing creative examples, especially if done in intrepretive
</span></span><span class=line><span class=cl>    dance at your local pub.
</span></span><span class=line><span class=cl>  - Send a patch that shows the Makefile modified.  Do this in a manner
</span></span><span class=line><span class=cl>    that would be acceptable for merging in the kernel source tree.
</span></span><span class=line><span class=cl>    (Hint, read the file Documentation/SubmittingPatches and follow the
</span></span><span class=line><span class=cl>    steps there.)
</span></span></code></pre></div><p>Linux kernel source code is very huge and compiling such source code files can be tiring, especially when you have to include several source files from different directories and type the compiling command every time you need to compile. <strong><code>Makefiles</code></strong> are the solution to automate and simplify this task.</p><h3 id=what-is-a-makefile>What is a Makefile??<a hidden class=anchor aria-hidden=true href=#what-is-a-makefile>#</a></h3><p>Makefile is a specially formated file which contains all the steps to compile your program in the form of rules. These rules are also sometimes referred as recipes (&mldr;but they both are totally different thingsü§∑‚Äç‚ôÇÔ∏è) and these rules are executed by a utility called <code>make</code>. You might have used <strong>make</strong> to compile a program from source code. Most open source projects use it to compile a final executable binary, which can then be installed typically using <code>make install</code>.</p><h4 id=understand-with-examples>Understand with examples<a hidden class=anchor aria-hidden=true href=#understand-with-examples>#</a></h4><p>Let&rsquo;s start with very simple and classic example - &ldquo;Hello World&rdquo;. To begin with, create a new directory called <code>my_make_dir</code> containing a <code>Makefile</code> with below contents in it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=c># Comment - this says hello
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>say_hello</span><span class=o>:</span>
</span></span><span class=line><span class=cl>		<span class=nb>echo</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span></code></pre></div><p>If you run <code>make say_hello</code> inside the directory, it&rsquo;ll give below output:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>echo &#34;Hello World&#34;
</span></span><span class=line><span class=cl>Hello World
</span></span></code></pre></div><p>We just created our first Makefile rule and triggered it to run. Here <code>say_hello</code> behaves like a function name, this is also called <strong>target</strong> and <code>echo "Hello World"</code> is a <strong>recipie</strong>. In a single Makefile there can be multiple targets with multiple sets of recepies.</p><p>Let&rsquo;s take a look at another example now,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=c># Comment - this says hello
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>say_hello</span><span class=o>:</span>
</span></span><span class=line><span class=cl>		<span class=nb>echo</span> <span class=s2>&#34;Hello World&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>say_bye</span><span class=o>:</span> <span class=n>say_hello</span>
</span></span><span class=line><span class=cl>		<span class=nb>echo</span> <span class=s2>&#34;I&#39;m going now!&#34;</span>
</span></span><span class=line><span class=cl>		<span class=nb>echo</span> <span class=s2>&#34;Bye Bye world&#34;</span>
</span></span></code></pre></div><p>In above example, we have 2 targets, namely, <code>say_hello</code> and <code>say_bye</code>. In the target - <code>say_bye</code>, we have set <code>say_hello</code> as dependency or prerequisite. Pre-requisites are like another targets in the Makefile which should run before the intended target. So when we will invoke <code>say_bye</code> command, it&rsquo;ll first trigger the prerequisite <code>say_hello</code> and then <code>say_bye</code> will be triggered.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl># COMMAND -  make say_bye
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>echo &#34;Hello World&#34;
</span></span><span class=line><span class=cl>Hello World
</span></span><span class=line><span class=cl>echo &#34;I&#39;m going now!&#34;
</span></span><span class=line><span class=cl>I&#39;m going now!
</span></span><span class=line><span class=cl>echo &#34;Bye Bye world&#34;
</span></span><span class=line><span class=cl>Bye Bye world
</span></span></code></pre></div><p>Another key point about make utility is that whenever it does not take any targets to trigger, it&rsquo;ll trigger the top most target present in the Makefile. In this case, it&rsquo;ll trigger <code>say_hello</code> as it is in the first target in the Makefile.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl># COMMAND -  make
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>echo &#34;Hello World&#34;
</span></span><span class=line><span class=cl>Hello World
</span></span></code></pre></div><h4 id=more-practical-examples>More practical examples<a hidden class=anchor aria-hidden=true href=#more-practical-examples>#</a></h4><p>Now we know some basic terminology around Makefiles and how it works. Let&rsquo;s take a look at some more practical example that can be related to a real-world task.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=nf>all</span><span class=o>:</span> <span class=n>say_hello</span> <span class=n>generate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>say_hello</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	@echo <span class=s2>&#34;Hello World&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>generate</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	@echo <span class=s2>&#34;Creating empty text files...&#34;</span>
</span></span><span class=line><span class=cl>	touch file-<span class=o>{</span>1..10<span class=o>}</span>.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>clean</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	@echo <span class=s2>&#34;Cleaning up...&#34;</span>
</span></span><span class=line><span class=cl>	rm *.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>say_bye</span><span class=o>:</span> <span class=n>clean</span>
</span></span><span class=line><span class=cl>	@echo <span class=s2>&#34;Bye World&#34;</span>
</span></span></code></pre></div><p>In above example, we have got many targets, some with pre-requisites and some without those. Let&rsquo;s pick each one of them and go one by one:</p><ol><li><code>all</code> : This is the first target in the file and if we do not pass any target to <code>make</code> utility, it&rsquo;ll trigger this target by default. This has got no recipes - just a simple rule without recipes. But this rule has some pre-requisites that will run before anything (in the given order - First <code>say_hello</code> and <code>generate</code>.</li><li><code>say_hello</code> : This is another target that can be triggered as a single rule or as a pre-requisite for <code>all</code> target. Anyways, it&rsquo;ll simply print the following string - <code>Hello World</code>.</li><li><code>generate</code> : This target is responsible to generate 10 empty files ranging from 1-10. Just like <code>say_hello</code>, it can also be triggered as a single standalone target or as a pre-requisite for <code>all</code> target.</li><li><code>Clean</code> : This target cleans all the .txt files from the folder. Idea is to delete all the files created by <code>generate</code> target.</li><li><code>say_bye</code> : This target prints &ldquo;Bye World&rdquo;, but has <code>clean</code> target as a pre-requisite so it&rsquo;ll first clean and then it&rsquo;ll run it&rsquo;s own recipes.</li></ol><p><em>Note:- any line after # (hash) character will be treated as comments by make utility</em></p><p>Now we understand what the Makefile consists of, let&rsquo;s see how we are going to use it for our case.</p><ol><li>To get a &ldquo;Hello World&rdquo; msg and create all the files we can simply type <code>make</code>. This will trigger the first target <code>all</code>, that in turn will execute <code>say_hello</code> and <code>generate</code>.</li><li>Once you are done with everything and what to clean-up the mess, you can just type <code>make bye_world</code>. This target will first clean and then provide you with a goodbye message.</li></ol><p>That&rsquo;s it. Pretty easy, isn&rsquo;t it? Now let&rsquo;s bang our head with another example that is more close to the real world application.</p><p>For this, we need to write our program (I&rsquo;ll use C language for that, language is never a barrier for make command). Open up a text editor and write your first <code>HelloWorld.c</code> program.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;stdio.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>printf</span><span class=p>(</span><span class=s>&#34;Hello World</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The above program will simply print &ldquo;Hello World&rdquo; when compiled and executed. We can write make recipes for this now.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=c># Compile the source code
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>HelloWorld.o</span><span class=o>:</span> <span class=n>HelloWorld</span>.<span class=n>c</span>
</span></span><span class=line><span class=cl>	gcc  HelloWorld.c   -o HelloWorld.o
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Execute the binary
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>HelloWorld</span><span class=o>:</span> <span class=n>HelloWorld</span>.<span class=n>o</span>
</span></span><span class=line><span class=cl>	./HelloWorld.o
</span></span></code></pre></div><p>The above <code>Makefile</code> has 2 rules with <code>HelloWorld.o</code> and <code>HelloWorld</code> as targets. Both targets have some recipes and some pre-requisites to it. Remember, the pre-requisite executes first and then the actual recipe for the target&mldr; That&rsquo;s how these rules work.</p><p>So if I trigger <code>HelloWorld</code> target, then it&rsquo;ll trigger the <code>HelloWorld.o</code> target as pre-requisite, which will compile the <code>HelloWorld.c</code> source code; Once the <code>HelloWorld.o</code> target is completed, it&rsquo;ll execute the generated <code>./HelloWorld.o</code> binary&mldr; This can be now further reduced to just invoking single <code>make</code> command, by making sure that <code>HelloWorld</code> target runs first by default.</p><p>You&rsquo;ll have to change the Makefile to get desired behaviour,</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=c># Creates a variable (this points to the compiler)
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nv>CC</span><span class=o>=</span>gcc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># First target in the file, default.
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>all</span><span class=o>:</span> <span class=n>HelloWorld</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Executes the source code
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>HelloWorld</span><span class=o>:</span> <span class=n>HelloWorld</span>.<span class=n>o</span>
</span></span><span class=line><span class=cl>	./HelloWorld.o
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c># Compile the source code
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>HelloWorld.o</span><span class=o>:</span> <span class=n>HelloWorld</span>.<span class=n>c</span>
</span></span><span class=line><span class=cl>	<span class=si>${</span><span class=nv>CC</span><span class=si>}</span>  HelloWorld.c   -o HelloWorld.o
</span></span></code></pre></div><p>Above Makefile is now good to compile and run our source code. It has got a variable that stores the compiler name, and it is used in <code>HelloWorld.o</code> target with <code>${CC}</code> syntax. I believe you understand the rest.</p><p><img loading=lazy src=https://media.giphy.com/media/nvkcS2Qc6pvId8S11b/giphy.gif#center alt></p><p>Now you can invoke <code>make</code> and it&rsquo;ll compile the source and execute the binary in a single go. One key thing to observe here is, that when we run make multiple times without changing the source code, it is not recompiling the code. This saves us a lot of time. And this is exactly why make is so de-facto automation tool for such usecases. (not &ldquo;de-facto&rdquo;, but you get it, right?)</p><p>Now, what about cleaning?? We gotta clean our mess. Although we don&rsquo;t have huge mess, but mess is mess and one gotta take care of his own mess. So we are going to write another rule in our Makefile.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=c># Deletes the executable binary file
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nf>clean</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	rm -rf HelloWorld.o
</span></span></code></pre></div><p>Now, anybody who will be using this, just needs to remember 2 commands:-</p><ul><li><code>make</code> : to actually compile and run the binary file.</li><li><code>make clean</code> : To remove the compiled binary file.</li></ul><h3 id=makefile-for-kernel>Makefile for kernel<a hidden class=anchor aria-hidden=true href=#makefile-for-kernel>#</a></h3><p>Linux Kernel also uses makefiles (Plural; not singular) to make the building process relatively very easy for anybody. They just have to type 2 commands and a fresh new custom kernel will be ready for them. Although, this might take a lot of time depending upon what hardware you are running on and what files are you gonna compile.</p><p>Take a look at the top few lines of the <code>Makefile</code> in the top most directory of source tree.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Makefile data-lang=Makefile><span class=line><span class=cl><span class=c># SPDX-License-Identifier: GPL-2.0
</span></span></span><span class=line><span class=cl><span class=c></span><span class=nv>VERSION</span> <span class=o>=</span> <span class=m>5</span>
</span></span><span class=line><span class=cl><span class=nv>PATCHLEVEL</span> <span class=o>=</span> <span class=m>19</span>
</span></span><span class=line><span class=cl><span class=nv>SUBLEVEL</span> <span class=o>=</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=nv>EXTRAVERSION</span> <span class=o>=</span> -ExtraVersionText
</span></span><span class=line><span class=cl><span class=nv>NAME</span> <span class=o>=</span> Superb Owl
</span></span></code></pre></div><p>This tells about a lot of things related to version and name given to that version. We can see our <code>EXTRAVERSION</code> which I&rsquo;ve changed in the file (for Task 3 - Eudyptula Challenge).</p><p>Reading further down, we have so many sections, separated with comment blocks. These comment blocks are simple and grep-able, give them a try. Once we are comfortable with the idea of Makefiles and linux kernel, we can now connect all the dots and understand how things are linked together.</p><ul><li>We started with a <code>.config</code> file, that contains all the required kernel configurations. This file is then read by the top-level <code>Makefile</code> in linux kernel directory.</li><li>This Makefile is responsible for building 2 major products: <code>vmlinux</code> & <code>modules</code>. To achive this, <strong>make</strong> goes recursively into the sub-directories of kernel source tree and builds and compiles everything. The list of directories is determined using the <code>.config</code> file&mldr;. because that&rsquo;s what we want to compile.</li></ul><p>According to the official kernel docs, people have four different relationships with the kernel Makefiles.</p><ul><li>Some will simply build kernel using commands like <code>make menuconfig</code> and <code>make</code></li><li>Some will work with device drivers or other kernel features and will have to deal with kbuild makefiles for each subsystem they are working on.</li><li>A few will be working with architecture specific code and will be responsible for arch makefiles.</li><li>And then, there are kbuild developers&mldr;. people who work on the kernel build system itself.</li></ul><p>There are many things that a kernel developer needs to understand when he/she is working on kernel features. One of those many things is to understand kernel build makefiles. If you want, read more about important segments of a kernel makefile from <a href=https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#the-kbuild-files>official documentations here</a>.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>Now we know what makefile is, how it works and little bit about kernel makefile. Now the last part of the task - to make a patch of modified Makefile. This is very easy with git&mldr; you know <em>git</em> right?</p><p><img loading=lazy src=https://media.giphy.com/media/hs1wBxNGuR7z2LyzHT/giphy.gif#center alt></p><p>Just do <code>git diff Makefile</code> in linux kernel source directory. Executing this command should give you output like below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl><span class=gh>diff --git a/Makefile b/Makefile
</span></span></span><span class=line><span class=cl><span class=gh>index 1a6678d81..25e909b50 100644
</span></span></span><span class=line><span class=cl><span class=gh></span><span class=gd>--- a/Makefile
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+++ b/Makefile
</span></span></span><span class=line><span class=cl><span class=gi></span><span class=gu>@@ -2,7 +2,7 @@
</span></span></span><span class=line><span class=cl><span class=gu></span> VERSION = 5
</span></span><span class=line><span class=cl> PATCHLEVEL = 19
</span></span><span class=line><span class=cl> SUBLEVEL = 0
</span></span><span class=line><span class=cl><span class=gd>-EXTRAVERSION = -rc2
</span></span></span><span class=line><span class=cl><span class=gd></span><span class=gi>+EXTRAVERSION = -ExtraVersionText
</span></span></span><span class=line><span class=cl><span class=gi></span> NAME = Superb Owl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> # *DOCUMENTATION*
</span></span></code></pre></div><p>But this is not a patch&mldr; it is just a diff, showing what things changed. To make a actual patch you need to do more than this.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>## After modifying the Makefile</span>
</span></span><span class=line><span class=cl>git add Makefile
</span></span><span class=line><span class=cl>git commit -m <span class=s2>&#34;Modified Makefile&#34;</span>
</span></span><span class=line><span class=cl>git format-patch -1 HEAD -- Makefile
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## OUTPUT - 0001-modified-makefile.patch</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl># COMMAND -  cat 0001-modified-makefile.patch
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>From 45176125f95a5606ab4334f334634e19492f4928 Mon Sep 17 00:00:00 2001
</span></span><span class=line><span class=cl>From: ayedaemon &lt;ris3234@gmail.com&gt;
</span></span><span class=line><span class=cl>Date: Sat, 18 Jun 2022 10:54:16 +0530
</span></span><span class=line><span class=cl>Subject: [PATCH] modified makefile
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>---
</span></span><span class=line><span class=cl> Makefile | 2 +-
</span></span><span class=line><span class=cl> 1 file changed, 1 insertion(+), 1 deletion(-)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>diff --git a/Makefile b/Makefile
</span></span><span class=line><span class=cl>index b815ea3..7d97ece 100644
</span></span><span class=line><span class=cl>--- a/Makefile
</span></span><span class=line><span class=cl>+++ b/Makefile
</span></span><span class=line><span class=cl>@@ -1,6 +1,6 @@
</span></span><span class=line><span class=cl> VERSION = 5
</span></span><span class=line><span class=cl> PATCHLEVEL = 19
</span></span><span class=line><span class=cl> SUBLEVEL = 0
</span></span><span class=line><span class=cl>-EXTRAVERSION = -rc2
</span></span><span class=line><span class=cl>+EXTRAVERSION = -ExtraVersionText
</span></span><span class=line><span class=cl> NAME = Superb Owl
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>--
</span></span><span class=line><span class=cl>2.36.1
</span></span></code></pre></div><p>Now this gives you a patch file in an email format. That&rsquo;s convinient if you just want generate a patch and send it to someone using CLI mail client tools. Your work as a bug fixer/ feature developer/ etc is done once you have submitted the patch.</p><h4 id=submit-the-patch-but-where>Submit the patch!! But where??<a hidden class=anchor aria-hidden=true href=#submit-the-patch-but-where>#</a></h4><p>Linux kernel developers have also made automation scripts for you that actually finds the maintainers for a file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./scripts/get_maintainer.pl -f Makefile
</span></span></code></pre></div><p>Output:-</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>Masahiro</span> <span class=n>Yamada</span> <span class=o>&lt;</span><span class=n>masahiroy</span><span class=err>@</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>maintainer</span><span class=p>:</span><span class=n>KERNEL</span> <span class=n>BUILD</span> <span class=o>+</span> <span class=n>files</span> <span class=n>below</span> <span class=n>scripts</span><span class=o>/</span> <span class=p>(</span><span class=n>unless</span> <span class=n>mai</span><span class=o>...</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Michal</span> <span class=n>Marek</span> <span class=o>&lt;</span><span class=n>michal</span><span class=o>.</span><span class=n>lkml</span><span class=err>@</span><span class=n>markovi</span><span class=o>.</span><span class=n>net</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>maintainer</span><span class=p>:</span><span class=n>KERNEL</span> <span class=n>BUILD</span> <span class=o>+</span> <span class=n>files</span> <span class=n>below</span> <span class=n>scripts</span><span class=o>/</span> <span class=p>(</span><span class=n>unless</span> <span class=n>mai</span><span class=o>...</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Nick</span> <span class=n>Desaulniers</span> <span class=o>&lt;</span><span class=n>ndesaulniers</span><span class=err>@</span><span class=n>google</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>KERNEL</span> <span class=n>BUILD</span> <span class=o>+</span> <span class=n>files</span> <span class=n>below</span> <span class=n>scripts</span><span class=o>/</span> <span class=p>(</span><span class=n>unless</span> <span class=n>mai</span><span class=o>...</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Nick</span> <span class=n>Terrell</span> <span class=o>&lt;</span><span class=n>terrelln</span><span class=err>@</span><span class=n>fb</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>maintainer</span><span class=p>:</span><span class=n>ZSTD</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Alexei</span> <span class=n>Starovoitov</span> <span class=o>&lt;</span><span class=n>ast</span><span class=err>@</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>supporter</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Daniel</span> <span class=n>Borkmann</span> <span class=o>&lt;</span><span class=n>daniel</span><span class=err>@</span><span class=n>iogearbox</span><span class=o>.</span><span class=n>net</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>supporter</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Andrii</span> <span class=n>Nakryiko</span> <span class=o>&lt;</span><span class=n>andrii</span><span class=err>@</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>supporter</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Martin</span> <span class=n>KaFai</span> <span class=n>Lau</span> <span class=o>&lt;</span><span class=n>kafai</span><span class=err>@</span><span class=n>fb</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Song</span> <span class=n>Liu</span> <span class=o>&lt;</span><span class=n>songliubraving</span><span class=err>@</span><span class=n>fb</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Yonghong</span> <span class=n>Song</span> <span class=o>&lt;</span><span class=n>yhs</span><span class=err>@</span><span class=n>fb</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>John</span> <span class=n>Fastabend</span> <span class=o>&lt;</span><span class=n>john</span><span class=o>.</span><span class=n>fastabend</span><span class=err>@</span><span class=n>gmail</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>KP</span> <span class=n>Singh</span> <span class=o>&lt;</span><span class=n>kpsingh</span><span class=err>@</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Nathan</span> <span class=n>Chancellor</span> <span class=o>&lt;</span><span class=n>nathan</span><span class=err>@</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>supporter</span><span class=p>:</span><span class=n>CLANG</span><span class=o>/</span><span class=n>LLVM</span> <span class=n>BUILD</span> <span class=n>SUPPORT</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Tom</span> <span class=n>Rix</span> <span class=o>&lt;</span><span class=n>trix</span><span class=err>@</span><span class=n>redhat</span><span class=o>.</span><span class=n>com</span><span class=o>&gt;</span> <span class=p>(</span><span class=n>reviewer</span><span class=p>:</span><span class=n>CLANG</span><span class=o>/</span><span class=n>LLVM</span> <span class=n>BUILD</span> <span class=n>SUPPORT</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>linux</span><span class=o>-</span><span class=n>kbuild</span><span class=err>@</span><span class=n>vger</span><span class=o>.</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span> <span class=p>(</span><span class=n>open</span> <span class=n>list</span><span class=p>:</span><span class=n>KERNEL</span> <span class=n>BUILD</span> <span class=o>+</span> <span class=n>files</span> <span class=n>below</span> <span class=n>scripts</span><span class=o>/</span> <span class=p>(</span><span class=n>unless</span> <span class=n>mai</span><span class=o>...</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>linux</span><span class=o>-</span><span class=n>kernel</span><span class=err>@</span><span class=n>vger</span><span class=o>.</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span> <span class=p>(</span><span class=n>open</span> <span class=n>list</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>netdev</span><span class=err>@</span><span class=n>vger</span><span class=o>.</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span> <span class=p>(</span><span class=n>open</span> <span class=n>list</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>bpf</span><span class=err>@</span><span class=n>vger</span><span class=o>.</span><span class=n>kernel</span><span class=o>.</span><span class=n>org</span> <span class=p>(</span><span class=n>open</span> <span class=n>list</span><span class=p>:</span><span class=n>BPF</span> <span class=p>(</span><span class=n>Safe</span> <span class=n>dynamic</span> <span class=n>programs</span> <span class=ow>and</span> <span class=n>tools</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>llvm</span><span class=err>@</span><span class=n>lists</span><span class=o>.</span><span class=n>linux</span><span class=o>.</span><span class=n>dev</span> <span class=p>(</span><span class=n>open</span> <span class=n>list</span><span class=p>:</span><span class=n>CLANG</span><span class=o>/</span><span class=n>LLVM</span> <span class=n>BUILD</span> <span class=n>SUPPORT</span><span class=p>)</span>
</span></span></code></pre></div><p>The above list gives you the recipients list for you patch. Before submitting your patch, please read <a href=https://www.kernel.org/doc/html/latest/process/submitting-patches.html>the official kernel documentations</a><sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> to know mode about the patch submissions.</p><p><img loading=lazy src=https://media.giphy.com/media/fvmbkNjNwBlHCG3Yin/giphy.gif#center alt></p><h4 id=how-do-they-apply-my-patch>how do they apply my patch??<a hidden class=anchor aria-hidden=true href=#how-do-they-apply-my-patch>#</a></h4><p>Maintainers (or the person you just submitted your patch) will check your patch and if everything is good, they&rsquo;ll apply your patch to their codebase.</p><p><code>git</code> provides an easy way to do that using the patch file&mldr; just type below command and the patch will be applied.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git apply 0001-modified-makefile.patch
</span></span></code></pre></div><h3 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h3><p>Linux kernel is very huge project which involves tons of people. This looks very chaotic and scary, but it works!! Among many other tools/scripts, <strong>Git</strong> and <strong>Makefiles</strong> are the 2 important tools this chaotic process relies upon. One should have good understanding about these tools to take part in the development process of kernel.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#the-kbuild-files>https://www.kernel.org/doc/html/latest/kbuild/makefiles.html#the-kbuild-files</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://www.kernel.org/doc/html/latest/process/submitting-patches.html>https://www.kernel.org/doc/html/latest/process/submitting-patches.html</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://ayedaemon.github.io/tags/eudyptula/>Eudyptula</a></li><li><a href=https://ayedaemon.github.io/tags/linux/>Linux</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://ayedaemon.github.io/>Connected</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>